language: node_js

node_js: "node"

before_script:
  - npm install -g truffle@5.1.37 ganache-cli@6.9.1
  - npm install

script:
  - ganache-cli --port 7545 --networkId 5777 -m "they only media any modify banner suffer pole tag rule creek harvest" > /dev/null &
  - sleep 5
  - truffle migrate
  - truffle test

after_script:
  - npm run coverage && cat coverage/lcov.info | coveralls
